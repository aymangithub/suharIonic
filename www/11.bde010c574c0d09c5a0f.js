(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"41oo":function(n,t,l){"use strict";l.r(t);var o=l("CcnG"),a=l("mrSG"),e=l("ZZ/e"),u=l("f0ZK"),i=l("yTNM"),c=function(){function n(n,t,l){this.api=n,this.platform=t,this.settings=l,this.mapData=[]}return n.prototype.ngAfterViewInit=function(){return a.b(this,void 0,void 0,function(){var n=this;return a.e(this,function(t){switch(t.label){case 0:return[4,this.api.postItem("locations").subscribe(function(t){n.processData(t),console.log(t)},function(n){console.log(n)})];case 1:return t.sent(),[2]}})})},n.prototype.processData=function(n){return a.b(this,void 0,void 0,function(){var t,l,o,e=this;return a.e(this,function(a){switch(a.label){case 0:return[4,(u=n.mapApiKey,i=window,c=i.google,c&&c.maps?Promise.resolve(c.maps):new Promise(function(n,t){var l=document.createElement("script");l.src="https://maps.googleapis.com/maps/api/js?key="+u+"&v=3.31",l.async=!0,l.defer=!0,document.body.appendChild(l),l.onload=function(){var l=i.google;l&&l.maps?n(l.maps):t("google maps not available")}}))];case 1:return t=a.sent(),n.locations.map(function(n,t){e.mapData[t]={},e.mapData[t].name=n.title,e.mapData[t].lat=parseFloat(n.description),e.mapData[t].lng=parseFloat(n.url),0==t&&(e.mapData[t].center=!0),console.log(e.mapData)}),o=new t.Map(l=this.mapElement.nativeElement,{center:this.mapData.find(function(n){return n.center}),zoom:n.mapZoom}),this.mapData.forEach(function(n){var l=new t.InfoWindow({content:"<h5>"+n.name+"</h5>"}),a=new t.Marker({position:n,map:o,title:n.name});a.addListener("click",function(){l.open(o,a)})}),t.event.addListenerOnce(o,"idle",function(){l.classList.add("show-map")}),[2]}var u,i,c})})},n}(),r=function(){return function(){}}(),s=l("pMnS"),b=l("oBZk"),p=l("A7o+"),m=o.nb({encapsulation:0,styles:[[".map-canvas[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background-color:transparent;opacity:0;transition:opacity 150ms ease-in}.show-map[_ngcontent-%COMP%]{opacity:1}"]],data:{}});function f(n){return o.Ib(0,[o.Eb(402653184,1,{mapElement:0}),(n()(),o.pb(1,0,null,null,12,"ion-header",[["mode","ios"]],null,null,null,b.qb,b.t)),o.ob(2,49152,null,0,e.B,[o.h,o.k],{mode:[0,"mode"]},null),(n()(),o.pb(3,0,null,0,10,"ion-toolbar",[],null,null,null,b.Tb,b.W)),o.ob(4,49152,null,0,e.Bb,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,b.cb,b.f)),o.ob(6,49152,null,0,e.l,[o.h,o.k],null,null),(n()(),o.pb(7,0,null,0,2,"ion-back-button",[["defaultHref","/tabs/account"]],null,[[null,"click"]],function(n,t,l){var a=!0;return"click"===t&&(a=!1!==o.zb(n,9).onClick(l)&&a),a},b.Z,b.c)),o.ob(8,49152,null,0,e.g,[o.h,o.k],{defaultHref:[0,"defaultHref"]},null),o.ob(9,16384,null,0,e.h,[[2,e.hb],e.Hb],{defaultHref:[0,"defaultHref"]},null),(n()(),o.pb(10,0,null,0,3,"ion-title",[],null,null,null,b.Rb,b.U)),o.ob(11,49152,null,0,e.zb,[o.h,o.k],null,null),(n()(),o.Gb(12,0,["",""])),o.Ab(131072,p.i,[p.j,o.h]),(n()(),o.pb(14,0,null,null,2,"ion-content",[],null,null,null,b.lb,b.o)),o.ob(15,49152,null,0,e.u,[o.h,o.k],null,null),(n()(),o.pb(16,0,[[1,0],["mapCanvas",1]],0,0,"div",[["class","map-canvas"]],null,null,null,null,null))],function(n,t){var l=t.component;n(t,2,0,"ios"),n(t,4,0,o.rb(1,"",l.settings.theme.header,"")),n(t,8,0,"/tabs/account"),n(t,9,0,"/tabs/account")},function(n,t){n(t,12,0,o.Hb(t,12,0,o.zb(t,13).transform("Locations")))})}function d(n){return o.Ib(0,[(n()(),o.pb(0,0,null,null,1,"page-map",[],null,null,null,f,m)),o.ob(1,4243456,null,0,c,[i.a,e.Kb,u.a],null,null)],null,null)}var h=o.lb("page-map",c,d,{},{},[]),g=l("Ip0R"),v=l("gIcY"),w=l("ZYCi");l.d(t,"MapPageModuleNgFactory",function(){return k});var k=o.mb(r,[],function(n){return o.wb([o.xb(512,o.j,o.bb,[[8,[s.a,h]],[3,o.j],o.x]),o.xb(4608,g.o,g.n,[o.u,[2,g.u]]),o.xb(4608,v.t,v.t,[]),o.xb(4608,e.b,e.b,[o.z,o.g]),o.xb(4608,e.Gb,e.Gb,[e.b,o.j,o.q]),o.xb(4608,e.Lb,e.Lb,[e.b,o.j,o.q]),o.xb(1073742336,g.b,g.b,[]),o.xb(1073742336,p.g,p.g,[]),o.xb(1073742336,v.r,v.r,[]),o.xb(1073742336,v.g,v.g,[]),o.xb(1073742336,e.Db,e.Db,[]),o.xb(1073742336,w.n,w.n,[[2,w.t],[2,w.m]]),o.xb(1073742336,r,r,[]),o.xb(1024,w.k,function(){return[[{path:"",component:c}]]},[])])})}}]);
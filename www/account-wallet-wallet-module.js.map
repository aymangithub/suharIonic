{"version":3,"sources":["webpack:///./src/app/account/wallet/wallet.module.ts","webpack:///./src/app/account/wallet/wallet.page.html","webpack:///./src/app/account/wallet/wallet.page.scss","webpack:///./src/app/account/wallet/wallet.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEF;AACW;AAEtD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAU;KACtB;CACF,CAAC;AAYF;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAV5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,mEAAe;gBACf,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,uDAAU,CAAC;SAC3B,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;AC3B7B,oEAAoE,uBAAuB,2JAA2J,wBAAwB,8PAA8P,yBAAyB,GAAG,gBAAgB,sCAAsC,uBAAuB,gDAAgD,6BAA6B,mQAAmQ,uBAAuB,4BAA4B,qBAAqB,2IAA2I,yBAAyB,GAAG,aAAa,qCAAqC,cAAc,qCAAqC,WAAW,2EAA2E,cAAc,gE;;;;;;;;;;;ACA73C,+DAA+D,mJ;;;;;;;;;;;;;;;;;;;;;;ACAb;AACH;AACE;AACkC;AAC/C;AACqB;AAOzD;IAKE,oBAAmB,iBAAoC,EAAS,MAAc,EAAS,KAAqB,EAAS,OAAsB,EAAS,IAAU,EAAS,GAAe,EAAS,QAAkB,EAAS,eAAgC;QAAvO,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAS,WAAM,GAAN,MAAM,CAAQ;QAAS,UAAK,GAAL,KAAK,CAAgB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,SAAI,GAAJ,IAAI,CAAM;QAAS,QAAG,GAAH,GAAG,CAAY;QAAS,aAAQ,GAAR,QAAQ,CAAU;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAJ3P,SAAI,GAAY,KAAK,CAAC;QAGrB,WAAM,GAAQ,EAAE,CAAC;IAC6O,CAAC;IAE/P,6BAAQ,GAAR;QACI,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IACK,8BAAS,GAAf;;;;;4BACI,qBAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,aAAG;4BAC3C,KAAI,CAAC,MAAM,GAAG,GAAG,CAAC;4BAClB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACrB,CAAC,EAAE,aAAG;4BACF,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACrB,CAAC,CAAC;;wBALF,SAKE,CAAC;;;;;KACN;IACD,8BAAS,GAAT;QACI,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IAC3B,CAAC;IACK,6BAAQ,GAAd;;;;;;;6BACQ,IAAI,CAAC,YAAY,EAAE,EAAnB,wBAAmB;wBACH,qBAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gCAChD,OAAO,EAAE,gBAAgB;gCACzB,WAAW,EAAE,IAAI;gCACjB,QAAQ,EAAE,6BAA6B;6BAC1C,CAAC;;wBAJI,YAAU,SAId;wBACF,qBAAM,SAAO,CAAC,OAAO,EAAE;;wBAAvB,SAAuB,CAAC;wBACxB,qBAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,0BAA0B,EAAE;gCAChD,yBAAyB,EAAE,IAAI,CAAC,MAAM;gCACtC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB;gCAC9C,gBAAgB,EAAE,6BAA6B;gCAC/C,iBAAiB,EAAE,KAAK;6BAC3B,CAAC,CAAC,SAAS,CAAC,aAAG;gCACZ,KAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,aAAG;oCACnC,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC;oCAChB,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oCAC9C,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;oCAClB,SAAO,CAAC,OAAO,EAAE,CAAC;oCAClB,KAAI,CAAC,OAAO,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,GAAG,GAAG,OAAO,CAAC,CAAC;gCAC5D,CAAC,EAAE,aAAG;oCACF,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oCACjB,SAAO,CAAC,OAAO,EAAE,CAAC;gCACtB,CAAC,CAAC,CAAC;4BACP,CAAC,EAAE,aAAG;gCACF,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gCACjB,SAAO,CAAC,OAAO,EAAE,CAAC;4BACtB,CAAC,CAAC;;wBAnBF,SAmBE,CAAC;;;;;;KAEV;IACD,iCAAY,GAAZ;QACI,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,EAAE;YAC/C,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC;YACzC,OAAO,KAAK;SACf;aAAM;YACH,OAAO,IAAI;SACd;IACL,CAAC;IACK,iCAAY,GAAlB,UAAmB,YAAY;;;;;4BACb,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC5C,MAAM,EAAE,OAAO;4BACf,OAAO,EAAE,YAAY;4BACrB,OAAO,EAAE,CAAC,IAAI,CAAC;yBAClB,CAAC;;wBAJI,KAAK,GAAG,SAIZ;wBACF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACzB;IAlEU,UAAU;QALtB,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,oGAAiC;;SAElC,CAAC;+EAMsC,gEAAiB,EAAiB,sDAAM,EAAgB,8DAAc,EAAkB,4DAAa,EAAe,0CAAI,EAAc,uDAAU,EAAmB,uDAAQ,EAA0B,8DAAe;OAL/O,UAAU,CAoEtB;IAAD,iBAAC;CAAA;AApEsB","file":"account-wallet-wallet-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WalletPage } from './wallet.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WalletPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [WalletPage]\n})\nexport class WalletPageModule {}\n","module.exports = \"<ion-header mode='ios'>\\n  <ion-toolbar color=\\\"{{settings.theme.header}}\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/tabs/account\\\"></ion-back-button>\\n    </ion-buttons>\\n    \\n    <ion-title>{{\\\"Wallet\\\" | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"spinner\\\" *ngIf=\\\"!wallet?.balance\\\"><ion-spinner> </ion-spinner></div>  \\n\\n<ion-list *ngIf=\\\"wallet.balance\\\">\\n\\n<ion-item lines=\\\"none\\\">\\n  <ion-label class=\\\"bold\\\">{{\\\"Balance\\\" | translate}} {{wallet.balance}}</ion-label>\\n  <ion-button color=\\\"{{settings.theme.button}}\\\" slot=\\\"end\\\" (click)=\\\"showField()\\\">\\n    {{\\\"Add balance\\\" | translate}}\\n  </ion-button>\\n</ion-item>\\n\\n<div *ngIf=\\\"show\\\">\\n<ion-item lines=\\\"none\\\">\\n    <ion-input required type=\\\"number\\\" [(ngModel)]=\\\"amount\\\" name=\\\"amount\\\" placeholder=\\\"Enter Amount\\\"></ion-input>\\n</ion-item>\\n\\n<ion-button expand=\\\"block\\\" color=\\\"{{settings.theme.button}}\\\" (click)=\\\"addTopup()\\\">{{\\\"Add\\\" | translate}}</ion-button>\\n</div>\\n\\n<ion-item *ngFor=\\\"let item of wallet.transactions\\\">\\n    <ion-label text-wrap>\\n      <ion-text>\\n        <h3>{{item.type.toUpperCase()}} {{item.amount}}</h3>\\n      </ion-text>\\n      <p>{{item.details}}</p>\\n      <ion-text>\\n        <p>{{item.date}}</p>\\n      </ion-text>\\n    </ion-label>\\n    <ion-text slot=\\\"end\\\"><p>{{item.balance}}</p></ion-text>\\n</ion-item>\\n\\n</ion-list>\\n\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvd2FsbGV0L3dhbGxldC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../api.service';\nimport { Settings } from './../../data/settings';\nimport { AlertController, NavController, LoadingController } from '@ionic/angular';\nimport { Data } from './../../data';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-wallet',\n  templateUrl: './wallet.page.html',\n  styleUrls: ['./wallet.page.scss'],\n})\nexport class WalletPage implements OnInit {\n\tshow: boolean = false;\n\tamount: any;\n  cart: any;\n  wallet: any = {};\n  constructor(public loadingController: LoadingController, public router: Router, public route: ActivatedRoute, public navCtrl: NavController, public data: Data, public api: ApiService, public settings: Settings, public alertController: AlertController) { }\n\n  ngOnInit() {\n      this.getWallet();\n  }\n  async getWallet() {\n      await this.api.postItem('wallet').subscribe(res => {\n          this.wallet = res;\n          console.log(res);\n      }, err => {\n          console.log(err);\n      });\n  }\n  showField() {\n      this.show = !this.show;\n  }\n  async addTopup() {\n      if (this.validateForm()) {\n          const loading = await this.loadingController.create({\n              message: 'Please wait...',\n              translucent: true,\n              cssClass: 'custom-class custom-loading'\n          });\n          await loading.present();\n          await this.api.ajaxCall('/wp-admin/admin-ajax.php', {\n              woo_wallet_balance_to_add: this.amount,\n              woo_wallet_topup: this.wallet.woo_wallet_topup,\n              _wp_http_referer: '/my-account/woo-wallet/add/',\n              woo_add_to_wallet: 'Add'\n          }).subscribe(res => {\n              this.api.postItem('cart').subscribe(res => {\n                  this.cart = res;\n                  this.data.updateCart(this.cart.cart_contents);\n                  this.show = false;\n                  loading.dismiss();\n                  this.navCtrl.navigateForward(this.router.url + '/cart');\n              }, err => {\n                  console.log(err);\n                  loading.dismiss();\n              });\n          }, err => {\n              console.log(err);\n              loading.dismiss();\n          });\n      }\n  }\n  validateForm() {\n      if (this.amount == undefined || this.amount == \"\") {\n          this.presentAlert('Please enter Amount');\n          return false\n      } else {\n          return true\n      }\n  }\n  async presentAlert(alertMessage) {\n      const alert = await this.alertController.create({\n          header: 'Oops!',\n          message: alertMessage,\n          buttons: ['OK']\n      });\n      await alert.present();\n  }\n\n}\n"],"sourceRoot":""}
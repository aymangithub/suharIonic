{"version":3,"sources":["webpack:///./src/app/products/products.module.ts","webpack:///./src/app/products/products.page.html","webpack:///./src/app/products/products.page.scss","webpack:///./src/app/products/products.page.ts"],"names":[],"mappings":"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","file":"products-products-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ProductsPage } from './products.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  imports: [\n    IonicModule,\n    TranslateModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: ProductsPage }])\n  ],\n  declarations: [ProductsPage]\n})\nexport class ProductsPageModule {}\n","module.exports = \"<ion-header mode='ios'  class=\\\"products-header\\\">\\n  <ion-toolbar color=\\\"{{settings.theme.header}}\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/tabs/categories\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-searchbar mode=\\\"ios\\\" *ngIf=\\\"showSearch\\\" [(ngModel)]=\\\"searchInput\\\" (ionChange)=\\\"onInput()\\\"></ion-searchbar>\\n    <ion-buttons slot=\\\"end\\\" (click)=\\\"getFilter()\\\"><ion-icon name=\\\"funnel\\\" style=\\\"margin: 0 8px;font-size: 23px\\\"></ion-icon></ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"subCategories.length\\\" class=\\\"scrollmenu2\\\">\\n    <div *ngFor=\\\"let item of subCategories\\\" class=\\\"scroll ion-activatable ion-focusable hydrated\\\" (click)=\\\"getCategory(item.id)\\\">\\n      <img alt=\\\"\\\" *ngIf=\\\"item.image?.src\\\" src=\\\"{{item.image.src}}\\\" [style.border-radius.px]=\\\"settings.dimensions.suCatBorderRadius\\\">\\n      <h5><span [innerHTML]=\\\"item.name\\\"></span></h5>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"spinner\\\" *ngIf=\\\"loader\\\"><ion-spinner> </ion-spinner></div>\\n\\n  <ion-list  *ngIf=\\\"products\\\">\\n\\n    <div class=\\\"spinner\\\" *ngIf=\\\"!loader && products.length == 0\\\">{{\\\"No Results\\\" | translate}}</div>\\n\\n    <ion-row>\\n    <ion-col size=\\\"{{settings.colWidthProducts}}\\\" size-sm=\\\"4\\\" size-md=\\\"3\\\" [style.padding.px]=\\\"settings.dimensions.productPadding\\\" *ngFor=\\\"let product of products\\\">\\n    <ion-card mode=\\\"md\\\" class=\\\"ion-activatable ion-focusable hydrated {{settings.settings.product_shadow}}\\\" [style.border-radius.px]=\\\"settings.dimensions.productBorderRadius\\\">\\n      <ion-img alt=\\\"\\\" [style.height.px]=\\\"settings.dimensions.productsGridViewHeight\\\" (click)=\\\"getProduct(product)\\\" *ngIf=\\\"product.images?.length\\\" src=\\\"{{product.images[0].src}}\\\"></ion-img>\\n      <ion-img alt=\\\"\\\" [style.height.px]=\\\"settings.dimensions.productsGridViewHeight\\\" (click)=\\\"getProduct(product)\\\" *ngIf=\\\"!product.images?.length\\\" src=\\\"assets/image/logo.png\\\"></ion-img>\\n      <ion-icon name=\\\"heart-empty\\\" mode=\\\"md\\\" class=\\\"wishlist-button-grid\\\" *ngIf=\\\"!settings.wishlist[product.id]\\\" (click)=\\\"settings.addToWishlist(product.id)\\\"></ion-icon>\\n      <ion-icon name=\\\"heart\\\" color=\\\"{{settings.theme.button}}\\\" mode=\\\"md\\\" class=\\\"wishlist-button-grid\\\" *ngIf=\\\"settings.wishlist[product.id]\\\" (click)=\\\"settings.removeFromWishlist(product.id)\\\"></ion-icon>\\n\\n       <ion-button color=\\\"danger\\\" class=\\\"stock\\\" *ngIf=\\\"product.stock_status == 'outofstock'\\\">{{\\\"No Stock\\\" | translate}}</ion-button>\\n      <div *ngIf=\\\"product.stock_status == 'instock'\\\">\\n      <ion-button class=\\\"offer\\\" *ngIf=\\\"((product.regular_price - product.price) /product.regular_price*100) >= '1'\\\">{{(product.regular_price - product.price) /product.regular_price*100 | number : '1.0-0'}}%</ion-button>\\n      </div>\\n                        \\n      <ion-card-header (click)=\\\"getProduct(product)\\\" class=\\\"ion-activatable ion-focusable hydrated\\\">\\n        <ion-card-subtitle mode=\\\"md\\\">{{product.name}}</ion-card-subtitle>\\n      </ion-card-header>\\n      <ion-card-content (click)=\\\"getProduct(product)\\\" class=\\\"ion-activatable ion-focusable hydrated\\\">\\n        <p class=\\\"price\\\">\\n          <span class=\\\"regular-price\\\" *ngIf=\\\"!product.sale_price\\\">{{1*product.price | currency:settings.currency:symbol:'1.2-2'}}</span>\\n          <span class=\\\"regular-price\\\" *ngIf=\\\"product.sale_price\\\">{{1*product.sale_price | currency:settings.currency:symbol:'1.2-2'}}</span>\\n            <span *ngIf=\\\"product.sale_price\\\" class=\\\"special-price\\\"><del>{{1*product.regular_price | currency:settings.currency:symbol:'1.2-2'}}</del></span>\\n        </p>\\n      </ion-card-content>\\n    </ion-card>\\n    </ion-col>\\n  </ion-row>\\n\\n  </ion-list>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" *ngIf=\\\"hasMoreItems && products.length\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Loading more data...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\t\\n</ion-content>\\n\"","module.exports = \"ion-card {\\n  margin: 0;\\n  height: 100%; }\\n\\nion-card-title {\\n  font-size: 40px; }\\n\\nion-card-header {\\n  padding: 10px; }\\n\\nion-card-content {\\n  padding: 0; }\\n\\nion-card-content .price {\\n    padding: 0 10px 10px 10px;\\n    font-weight: bold;\\n    font-size: 14px; }\\n\\nion-card-content .price .special-price {\\n      padding-left: 5px;\\n      font-size: 10px;\\n      font-weight: 300; }\\n\\nion-card-subtitle {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  font-weight: 300;\\n  font-size: small; }\\n\\n.scrollmenu2 {\\n  margin: 5px 0;\\n  z-index: 1;\\n  overflow: auto;\\n  white-space: nowrap; }\\n\\n.scrollmenu2 h5 {\\n    margin: 0;\\n    padding: 5px;\\n    font-size: 12px;\\n    text-transform: capitalize;\\n    text-overflow: ellipsis;\\n    overflow: hidden; }\\n\\n.scrollmenu2 .scroll {\\n    display: inline-block;\\n    text-align: center;\\n    padding: 8px 8px 0 8px;\\n    text-decoration: none;\\n    width: 30%; }\\n\\n.list-md {\\n  padding-top: 0; }\\n\\n.stock {\\n  position: absolute;\\n  top: -4px;\\n  left: -6px;\\n  width: 130px;\\n  font-size: 8px;\\n  margin: 15px;\\n  margin-left: -39px;\\n  -webkit-transform: rotate(-45deg);\\n  transform: rotate(-45deg);\\n  height: 19px;\\n  --box-shadow: none; }\\n\\n.offer {\\n  margin-left: 5px;\\n  font-size: 12px;\\n  --border-radius: 25px;\\n  width: 36px;\\n  min-height: 36px;\\n  font-weight: 600;\\n  position: absolute;\\n  top: 5px;\\n  left: 5px;\\n  -webkit-box-shadow: none;\\n  --box-shadow: none; }\\n\\n.searchbar-input.sc-ion-searchbar-md {\\n  box-shadow: none; }\\n\\n.products-header ion-searchbar {\\n  height: 40px; }\\n\\n.products-header ion-searchbar ion-toolbar:last-child {\\n    --border-width: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9heW1hbmVsc2hhcmthd3kvUHJvZ3JhbW1pbmcvUHJvamVjdHMvSW9uaWNfc29oYXIvc3JjL2FwcC9wcm9kdWN0cy9wcm9kdWN0cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxTQUFTO0VBQ1QsWUFBWSxFQUFBOztBQUVoQjtFQUNJLGVBQWUsRUFBQTs7QUFFbkI7RUFDSSxhQUFhLEVBQUE7O0FBRWpCO0VBQ0ksVUFBVSxFQUFBOztBQURkO0lBR1EseUJBQXlCO0lBQ3pCLGlCQUFpQjtJQUNqQixlQUFlLEVBQUE7O0FBTHZCO01BUVksaUJBQWlCO01BQ2pCLGVBQWU7TUFDZixnQkFBZ0IsRUFBQTs7QUFJNUI7RUFDSSxtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLHVCQUF1QjtFQUN2QixnQkFBZ0I7RUFDaEIsZ0JBQWdCLEVBQUE7O0FBRXBCO0VBQ0ksYUFBYTtFQUNiLFVBQVU7RUFDVixjQUFjO0VBQ2QsbUJBQW1CLEVBQUE7O0FBSnZCO0lBTVEsU0FBUztJQUNULFlBQVk7SUFDWixlQUFlO0lBQ2YsMEJBQTBCO0lBQzFCLHVCQUF1QjtJQUN2QixnQkFBZ0IsRUFBQTs7QUFYeEI7SUFjUSxxQkFBcUI7SUFDckIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0QixxQkFBcUI7SUFDckIsVUFBVSxFQUFBOztBQUdsQjtFQUNJLGNBQWMsRUFBQTs7QUFFbEI7RUFDSSxrQkFBa0I7RUFDbEIsU0FBUztFQUNULFVBQVU7RUFDVixZQUFZO0VBQ1osY0FBYztFQUNkLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsaUNBQWlDO0VBQ2pDLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWEsRUFBQTs7QUFFakI7RUFDSSxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLHFCQUFnQjtFQUNoQixXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFNBQVM7RUFDVCx3QkFBd0I7RUFDeEIsa0JBQWEsRUFBQTs7QUFFakI7RUFDSSxnQkFBZ0IsRUFBQTs7QUFFcEI7RUFFUSxZQUFZLEVBQUE7O0FBRnBCO0lBSVksaUJBQWUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3RzL3Byb2R1Y3RzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jYXJkIHtcbiAgICBtYXJnaW46IDA7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuaW9uLWNhcmQtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogNDBweDtcbn1cbmlvbi1jYXJkLWhlYWRlciB7XG4gICAgcGFkZGluZzogMTBweDtcbn1cbmlvbi1jYXJkLWNvbnRlbnQge1xuICAgIHBhZGRpbmc6IDA7XG4gICAgLnByaWNlIHtcbiAgICAgICAgcGFkZGluZzogMCAxMHB4IDEwcHggMTBweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7IC8vY29sb3I6ICMwMDAwMDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgLnNwZWNpYWwtcHJpY2Uge1xuICAgICAgICAgICAgLy9jb2xvcjogIzg2ODY4NjtcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogNXB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmlvbi1jYXJkLXN1YnRpdGxlIHtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICBmb250LXNpemU6IHNtYWxsOyAvL2NvbG9yOiBibGFjaztcbn1cbi5zY3JvbGxtZW51MiB7XG4gICAgbWFyZ2luOiA1cHggMDtcbiAgICB6LWluZGV4OiAxOyAvL2JhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBoNSB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLnNjcm9sbCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgLy9jb2xvcjogIzAwMDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiA4cHggOHB4IDAgOHB4O1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIHdpZHRoOiAzMCU7XG4gICAgfVxufVxuLmxpc3QtbWQge1xuICAgIHBhZGRpbmctdG9wOiAwO1xufVxuLnN0b2NrIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtNHB4O1xuICAgIGxlZnQ6IC02cHg7XG4gICAgd2lkdGg6IDEzMHB4O1xuICAgIGZvbnQtc2l6ZTogOHB4O1xuICAgIG1hcmdpbjogMTVweDtcbiAgICBtYXJnaW4tbGVmdDogLTM5cHg7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xuICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XG4gICAgaGVpZ2h0OiAxOXB4O1xuICAgIC0tYm94LXNoYWRvdzogbm9uZTtcbn1cbi5vZmZlciB7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgLS1ib3JkZXItcmFkaXVzOiAyNXB4O1xuICAgIHdpZHRoOiAzNnB4O1xuICAgIG1pbi1oZWlnaHQ6IDM2cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA1cHg7XG4gICAgbGVmdDogNXB4O1xuICAgIC13ZWJraXQtYm94LXNoYWRvdzogbm9uZTtcbiAgICAtLWJveC1zaGFkb3c6IG5vbmU7XG59XG4uc2VhcmNoYmFyLWlucHV0LnNjLWlvbi1zZWFyY2hiYXItbWQge1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG59XG4ucHJvZHVjdHMtaGVhZGVyIHtcbiAgICBpb24tc2VhcmNoYmFyIHtcbiAgICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgICBpb24tdG9vbGJhcjpsYXN0LWNoaWxkIHtcbiAgICAgICAgICAgIC0tYm9yZGVyLXdpZHRoOiAwO1xuICAgICAgICB9XG4gICAgfVxufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NavController, ModalController  } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from '../api.service';\nimport { Data } from '../data';\nimport { Settings } from '../data/settings';\nimport { Product } from '../data/product';\nimport { FilterPage } from '../filter/filter.page';\nimport { Vendor } from '../data/vendor';\n\n@Component({\n    selector: 'app-products',\n    templateUrl: 'products.page.html',\n    styleUrls: ['products.page.scss']\n})\nexport class ProductsPage {\n    products: any = [];\n    tempProducts: any = [];\n    subCategories: any = [];\n    filter: any = {};\n    attributes: any;\n    hasMoreItems: boolean = true;\n    loader: boolean = false;\n    searchInput: any;\n    showSearch: boolean = true;\n    constructor(public vendor: Vendor, public modalController: ModalController, public api: ApiService, public data: Data, public product: Product, public settings: Settings, public router: Router, public navCtrl: NavController, public route: ActivatedRoute) {\n        this.filter.page = 1;\n        this.filter.status = 'publish';\n    }\n    async getFilter() {\n        const modal = await this.modalController.create({\n            component: FilterPage,\n            componentProps: {\n                filter: this.filter,\n                attributes: this.attributes\n            }\n        });\n        modal.present();\n        const {\n            data\n        } = await modal.onDidDismiss();\n        if (data) {\n            this.filter = data;\n            this.filter.page = 1;\n            this.getProducts();\n        }\n    }\n    loadData(event) {\n        this.filter.page = this.filter.page + 1;\n        this.api.getItem('products', this.filter).subscribe(res => {\n            this.tempProducts = res;\n            this.products.push.apply(this.products, this.tempProducts);\n            event.target.complete();\n            if (this.tempProducts.length == 0) this.hasMoreItems = false;\n        }, err => {\n            event.target.complete();\n        });\n        console.log('Done');\n    }\n    getProducts() {\n        this.loader = true;\n        this.api.getItem('products', this.filter).subscribe(res => {\n            this.products = res;\n            this.loader = false;\n        }, err => {\n            console.log(err);\n        });\n    }\n    getAttributes() {\n        this.api.postItem('product-attributes', {\n            category: this.filter.category\n        }).subscribe(res => {\n            this.attributes = res;\n        }, err => {\n            console.log(err);\n        });\n    }\n    ngOnInit() {\n        if(this.route.snapshot.paramMap.get('id')){\n            this.filter.category = this.route.snapshot.paramMap.get('id');\n        }\n        if(this.vendor.vendor){\n            this.filter.vendor = this.vendor.vendor.id ? this.vendor.vendor.id : this.vendor.vendor.ID;\n        }\n\n        if (this.data.categories && this.data.categories.length) {\n            for (var i = 0; i < this.data.categories.length; i++) {\n                if (this.data.categories[i].parent == this.filter.category) {\n                    this.subCategories.push(this.data.categories[i]);\n                }\n            }\n        }\n        if (this.settings.colWidthProducts == 4) this.filter.per_page = 15;\n        this.getProducts();\n        this.getAttributes();\n    }\n    getProduct(product) {\n        this.product.product = product;\n        this.navCtrl.navigateForward(this.router.url + '/product/' + product.id);\n    }\n    getCategory(id) {\n        var endIndex = this.router.url.lastIndexOf('/');\n        var path = this.router.url.substring(0, endIndex);\n        this.navCtrl.navigateForward(path + '/' + id);\n    }\n    loaded(product){\n        console.log('Loaded');\n        product.loaded = true;\n    }\n    onInput(){\n        if (this.searchInput.length) {\n            this.products = '';\n            this.filter.search = this.searchInput;\n            this.filter.page = 1;\n            this.getProducts();\n        } else {\n            this.products = '';\n            this.filter.search = undefined;\n            this.filter.page = 1;\n            this.getProducts();\n        }\n    }\n    ionViewWillLeave(){\n        this.showSearch = false;\n    }\n    ionViewDidLeave() {\n        this.vendor.vendor = {};\n        this.showSearch = true;\n    }\n}"],"sourceRoot":""}
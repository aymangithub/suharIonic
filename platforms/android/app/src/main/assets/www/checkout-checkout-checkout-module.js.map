{"version":3,"sources":["webpack:///./src/app/checkout/checkout/checkout.module.ts","webpack:///./src/app/checkout/checkout/checkout.page.html","webpack:///./src/app/checkout/checkout/checkout.page.scss","webpack:///./src/app/checkout/checkout/checkout.page.ts"],"names":[],"mappings":"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","file":"checkout-checkout-checkout-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { CheckoutPage } from './checkout.page';\nimport { KeysPipeModule } from '../../pipes/pipe.module';\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckoutPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    TranslateModule,\n    IonicModule,\n    KeysPipeModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CheckoutPage]\n})\nexport class CheckoutPageModule {}\n","module.exports = \"<ion-header mode='ios'>\\n  <ion-toolbar color=\\\"{{settings.theme.header}}\\\">\\n  \\t<ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/tabs/cart/address\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{\\\"Checkout\\\" | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n\\n\\n<div class=\\\"spinner\\\" *ngIf=\\\"!orderReview\\\"><ion-spinner></ion-spinner></div>\\n\\n<div *ngIf=\\\"orderReview\\\">\\n<ion-list>\\n\\t<ion-list-header>\\n    <ion-label>{{\\\"Billing Address\\\" | translate}}</ion-label>\\n  </ion-list-header>\\n\\n  <ion-item>\\n    <ion-label text-wrap>\\n      <p>\\n    <span>{{checkoutData.form.billing_first_name}}</span>&nbsp;<span>{{checkoutData.form.billing_last_name}}</span>&nbsp;<span>{{checkoutData.form.billing_company}}</span>&nbsp;<span>{{checkoutData.form.billing_address_1}}</span>&nbsp;<span>{{checkoutData.form.billing_address_2}}</span>&nbsp;<span>{{checkoutData.form.billing_city}}</span>\\n    <span>{{checkoutData.form.billing_state}}</span>&nbsp;<span>{{checkoutData.form.billing_postcode}}</span>&nbsp;<span>{{checkoutData.form.billing_country}}</span>\\n    &nbsp;<span>{{checkoutData.form.billing_email}}</span>&nbsp;<span>{{checkoutData.form.billing_phone}}</span>\\n  </p>\\n    </ion-label>\\n  </ion-item>\\n</ion-list>\\n<ion-list>\\n  <ion-list-header>\\n    <ion-label>{{\\\"Shipping Address\\\" | translate}}</ion-label>\\n  </ion-list-header>\\n\\n  <ion-item>\\n    <ion-label text-wrap>\\n      <p>\\n    <span>{{checkoutData.form.shipping_first_name}}</span>&nbsp;<span>{{checkoutData.form.shipping_last_name}}</span>&nbsp;<span>{{checkoutData.form.shipping_company}}</span>&nbsp;<span>{{checkoutData.form.shipping_address_1}}</span>&nbsp;<span>{{checkoutData.form.shipping_address_2}}</span>&nbsp;<span>{{checkoutData.form.shipping_city}}</span>&nbsp;\\n    <span>{{checkoutData.form.shipping_state}}</span>&nbsp;<span>{{checkoutData.form.shipping_postcode}}</span>&nbsp;<span>{{checkoutData.form.shipping_country}}</span>&nbsp;\\n    <span>{{checkoutData.form.shipping_email}}</span>&nbsp;<span>{{checkoutData.form.shipping_phone}}</span>\\n  </p>\\n    </ion-label>\\n  </ion-item>\\n</ion-list>\\n\\n<ion-list *ngIf=\\\"orderReview?.shipping\\\">\\n  <ion-radio-group *ngFor=\\\"let package of orderReview.shipping\\\" [(ngModel)]=\\\"package.chosen_method\\\" (ngModelChange)=\\\"updateOrderReview()\\\">\\n    <ion-list-header>\\n      <span [innerHTML]=\\\"package.package_name\\\"></span>\\n    </ion-list-header>\\n    <ion-item *ngIf=\\\"isEmptyObject(package.shipping)\\\">\\n      <ion-label><p>{{\\\"No Shipping Available\\\" | translate}}</p></ion-label>\\n    </ion-item>\\n    <ion-item *ngFor=\\\"let method of package.shipping | keys\\\">\\n      <ion-label><span [innerHTML]=\\\"method.value.label\\\"></span> <b>-</b> <span>{{method.value.cost | currency:settings.currency:true:'1.2-2'}}</span></ion-label>\\n      <ion-radio color=\\\"{{settings.theme.button}}\\\" value=\\\"{{method.value.id}}\\\"></ion-radio>\\n    </ion-item>\\n  </ion-radio-group>\\n</ion-list>\\n\\n<ion-list *ngIf=\\\"orderReview?.payment\\\">\\n  <ion-radio-group [(ngModel)]=\\\"checkoutData.form.payment_method\\\" (ngModelChange)=\\\"onChangePayment()\\\">\\n    <ion-list-header>\\n      {{\\\"Payment Method\\\" | translate}}\\n    </ion-list-header>\\n    <ion-item *ngFor=\\\"let method of orderReview.payment | keys\\\">\\n      <ion-label text-wrap class=\\\"ion-text-nowrap\\\"><span [innerHTML]=\\\"method.value.title\\\"></span></ion-label>\\n      <ion-radio color=\\\"{{settings.theme.button}}\\\" value=\\\"{{method.value.id}}\\\"></ion-radio>\\n     \\n    </ion-item>\\n    <ion-item class=\\\"payment-description\\\" *ngIf=\\\"orderReview.payment[checkoutData.form.payment_method]?.description\\\" lines=\\\"none\\\">\\n    <ion-label text-wrap> \\n    <span [innerHTML]=\\\"orderReview.payment[checkoutData.form.payment_method]?.description\\\"></span>\\n     </ion-label>\\n   </ion-item>\\n  </ion-radio-group>\\n</ion-list>\\n\\n  <div *ngIf=\\\"cardResponse.cardNumber && checkoutData.form.payment_method == 'stripe'\\\">\\n      <ion-card mode=\\\"md\\\">\\n          <ion-item *ngIf=\\\"cardResponse.cardNumber\\\">\\n            <ion-label text-wrap>\\n              <ion-text>\\n                <h3>{{\\\"Card Number\\\" | translate}}</h3>\\n              </ion-text>\\n              <p>{{cardResponse.cardNumber}}</p>\\n            </ion-label>\\n          </ion-item>\\n\\n            <ion-item>\\n            <ion-label text-wrap>\\n              <ion-text>\\n                <h3>{{\\\"Expiry Date\\\" | translate}}</h3>\\n              </ion-text>\\n              <p>{{cardResponse.expiryMonth}}/{{cardResponse.expiryYear}}</p>\\n            </ion-label>\\n          </ion-item>\\n\\n            <ion-item>\\n            <ion-label text-wrap>\\n              <ion-text>\\n                <h3>{{\\\"CVV\\\" | translate}}</h3>\\n              </ion-text>\\n              <p>{{cardResponse.cvv}}</p>\\n            </ion-label>\\n          </ion-item>\\n        </ion-card>\\n  </div>\\n\\n<div *ngIf=\\\"errorMessage\\\">\\n  <h2 [innerHTML]=\\\"errorMessage\\\" style=\\\"font-size: 14px;  color: red; text-align: center;\\\"></h2>\\n  </div>\\n\\n<ion-button [disabled]=\\\"disableButton\\\" color=\\\"{{settings.theme.button}}\\\" expand=\\\"block\\\" fill=\\\"solid\\\" (click)=\\\"placeOrder()\\\">{{'Place order' | translate}}</ion-button>\\n</div>\\n\\n</ion-content>\\n\"","module.exports = \".payment-description {\\n  --ion-background-color: var(--ion-color-step-50,#f2f2f2);\\n  margin: 10px 0 0;\\n  --border-radius: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9heW1hbmVsc2hhcmthd3kvUHJvZ3JhbW1pbmcvUHJvamVjdHMvSW9uaWNfc29oYXIvc3JjL2FwcC9jaGVja291dC9jaGVja291dC9jaGVja291dC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3REFBdUI7RUFDdkIsZ0JBQWdCO0VBQ2hCLG9CQUFnQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvY2hlY2tvdXQvY2hlY2tvdXQvY2hlY2tvdXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBheW1lbnQtZGVzY3JpcHRpb24ge1xuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1zdGVwLTUwLCNmMmYyZjIpO1xuICAgIG1hcmdpbjogMTBweCAwIDA7XG4gICAgLS1ib3JkZXItcmFkaXVzOiA1cHg7XG59XG4iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { LoadingController, NavController, Platform } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from '../../api.service';\nimport { CheckoutData } from '../../data/checkout';\nimport { Settings } from './../../data/settings';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\nimport { CardIO } from '@ionic-native/card-io/ngx';\n//import { Braintree, ApplePayOptions, PaymentUIOptions, PaymentUIResult } from '@ionic-native/braintree/ngx';\n\n@Component({\n    selector: 'app-checkout',\n    templateUrl: './checkout.page.html',\n    styleUrls: ['./checkout.page.scss'],\n})\nexport class CheckoutPage implements OnInit {\n    orderReview: any;\n    results: any = {};\n    disableButton: boolean = false;\n    errorMessage: any;\n    orderId: any;\n    cardResponse: any = {};\n    stripeForm: any = {};\n    constructor(private oneSignal: OneSignal, public platform: Platform, private cardIO: CardIO, public api: ApiService, public checkoutData: CheckoutData, public settings: Settings, public router: Router, public iab: InAppBrowser, public loadingController: LoadingController, public navCtrl: NavController, public route: ActivatedRoute/*, private braintree: Braintree*/) { }\n    ngOnInit() {\n        this.updateOrder();\n    }\n    async updateOrder() {\n        this.checkoutData.form.security = this.checkoutData.form.nonce.update_order_review_nonce;\n        await this.api.postItem('update_order_review', this.checkoutData.form).subscribe(res => {\n            this.orderReview = res;\n        }, err => {\n            console.log(err);\n        });\n    }\n    async updateOrderReview() {\n        this.checkoutData.form.shipping_method = [];\n        this.orderReview.shipping.forEach((item, index) => {\n            this.checkoutData.form['shipping_method[' + index + ']'] = item.chosen_method;\n        })\n        this.checkoutData.form.security = this.checkoutData.form.nonce.update_order_review_nonce;\n        await this.api.postItem('update_order_review', this.checkoutData.form).subscribe(res => {\n            this.handleData(res);\n        }, err => {\n            console.log(err);\n        });\n    }\n    handleData(results) {\n        console.log(results);\n        //\n    }\n    async placeOrder() {\n        console.log('ayman');\n        this.disableButton = true;\n        this.errorMessage = undefined;\n\n        if (this.platform.is('cordova')) {\n            await this.oneSignal.getIds().then((data: any) => {\n                this.checkoutData.form.onesignal_user_id = data.userId;\n            });\n        }\n\n        if (this.checkoutData.form.payment_method === 'stripe') {\n            this.setStripeForm();\n            await this.api.getExternalData('https://api.stripe.com/v1/tokens', this.stripeForm).subscribe(res => {\n                this.handleStipeToken(res);\n            }, err => {\n                if (err.error.error.message) { this.errorMessage = err.error.error.message; }\n                this.disableButton = false;\n            });\n        } /*else if (this.checkoutData.form.payment_method == 'braintree_credit_card'){\n            this.brainTreePayment();\n        }*/\n        else {\n            await this.api.ajaxCall('/checkout?wc-ajax=checkout', this.checkoutData.form).subscribe(res => {\n                this.results = res;\n                this.handleOrder();\n            }, err => {\n                this.disableButton = false;\n                console.log(err);\n            });\n        }\n    }\n    handleOrder() {\n        if (this.results.result == 'success') {\n            if (this.checkoutData.form.payment_method == 'wallet' || this.checkoutData.form.payment_method == 'paypalpro' || this.checkoutData.form.payment_method == 'stripe' || this.checkoutData.form.payment_method == 'bacs' || this.checkoutData.form.payment_method == 'cheque' || this.checkoutData.form.payment_method == 'cod') {\n                this.orderSummary(this.results.redirect);\n            } else if (this.checkoutData.form.payment_method == 'payuindia') {\n                this.handlePayUPayment();\n            } else if (this.checkoutData.form.payment_method == 'paytm') {\n                this.handlePaytmPayment();\n            }\n            else this.handlePayment();\n        }\n        else if (this.results.result == 'failure') {\n            this.disableButton = false;\n            this.errorMessage = this.results.messages;\n        }\n    }\n    orderSummary(address) {\n        var str = address;\n        var pos1 = str.lastIndexOf(\"/order-received/\");\n        var pos2 = str.lastIndexOf(\"/?key=wc_order\");\n        var pos3 = pos2 - (pos1 + 16);\n        var order_id = str.substr(pos1 + 16, pos3);\n        this.navCtrl.navigateRoot('/order-summary/' + order_id);\n    }\n    handlePayment() {\n        var options = \"location=no,hidden=yes,toolbar=no,hidespinner=yes\";\n        let browser = this.iab.create(this.results.redirect, '_blank', options);\n        browser.show();\n        browser.on('loadstart').subscribe(data => {\n            if (data.url.indexOf('/order-received/') != -1 && data.url.indexOf('key=wc_order_') != -1) {\n                this.orderSummary(data.url);\n                browser.hide();\n            } else if (data.url.indexOf('cancel_order=true') != -1 || data.url.indexOf('cancelled=1') != -1 || data.url.indexOf('cancelled') != -1) {\n                browser.close();\n                this.disableButton = false;\n            }\n        });\n        browser.on('exit').subscribe(data => {\n            this.disableButton = false;\n        });\n    }\n    handlePayUPayment() {\n        var options = \"location=no,hidden=yes,toolbar=no,hidespinner=yes\";\n        let browser = this.iab.create(this.results.redirect, '_blank', options);\n        let str = this.results.redirect;\n        var pos1 = str.lastIndexOf(\"/order-pay/\");\n        var pos2 = str.lastIndexOf(\"/?key=wc_order\");\n        var pos3 = pos2 - (pos1 + 11);\n        this.orderId = str.substr(pos1 + 11, pos3);\n        browser.on('loadstart').subscribe(data => {\n            var browserActive = false;\n            if (data.url.indexOf('payumoney.com/transact') != -1 && !browserActive) {\n                browserActive = true;\n                browser.show();\n            }\n            else if (data.url.indexOf('/order-received/') != -1 && data.url.indexOf('key=wc_order_') != -1) {\n                if (this.orderId)\n                    this.navCtrl.navigateRoot('/order-summary/' + this.orderId);\n                browser.hide();\n            } else if (data.url.indexOf('cancel_order=true') != -1 || data.url.indexOf('cancelled=1') != -1 || data.url.indexOf('cancelled') != -1) {\n                browser.close();\n                this.disableButton = false;\n            }\n        });\n        browser.on('exit').subscribe(data => {\n            this.disableButton = false;\n        });\n    }\n    handlePaytmPayment() {\n        var str = this.results.redirect;\n        var pos1 = str.lastIndexOf(\"/order-pay/\");\n        var pos2 = str.lastIndexOf(\"/?key=wc_order\");\n        var pos3 = pos2 - (pos1 + 11);\n        this.orderId = str.substr(pos1 + 11, pos3);\n        if (this.results.result == 'success') {\n            var options = \"location=no,hidden=yes,toolbar=yes\";\n            let browser = this.iab.create(this.results.redirect, '_blank', options);\n            browser.on('loadstart').subscribe(data => {\n                var browserActive = false;\n                if (data.url.indexOf('securegw-stage.paytm.in/theia') != -1 && !browserActive) {\n                    browserActive = true;\n                    browser.show();\n                }\n                else if (data.url.indexOf('type=success') != -1) {\n                    if (this.orderId)\n                        this.navCtrl.navigateRoot('/order-summary/' + this.orderId);\n                    browser.hide();\n                }\n                else if (data.url.indexOf('type=error') != -1 || data.url.indexOf('Failed') != -1 || data.url.indexOf('cancel_order=true') != -1 || data.url.indexOf('cancelled') != -1) {\n                    browser.close();\n                    this.disableButton = false;\n                }\n                else if (data.url.indexOf('Thank+you+for+your+order') != -1) {\n                    browser.close();\n                    this.disableButton = false;\n                }\n            });\n            browser.on('exit').subscribe(data => {\n                this.disableButton = false;\n            });\n        }\n        else if (this.results.result == 'failure') {\n            this.errorMessage = this.results.messages;\n            this.disableButton = false;\n        }\n    }\n    onChangePayment() {\n        this.disableButton = false;\n        if ((this.checkoutData.form.payment_method == 'stripe' || this.checkoutData.form.payment_method == 'paypalpro') && this.platform.is('cordova')) {\n            this.enterCard();\n        }\n    }\n    enterCard() {\n        this.cardIO.canScan()\n            .then(\n                (res: boolean) => {\n                    if (res) {\n                        let options = {\n                            requireExpiry: true,\n                            requireCVV: true,\n                            scanInstructions: \"Scan the front of your card\",\n                            scanExpiry: true,\n                            hideCardIOLogo: true,\n                            noCamera: true,\n                        };\n                        this.cardIO.scan(options)\n                            .then((data) => {\n                                this.cardResponse = data;\n                                this.setCardData();\n                            }, err => {\n                                console.log(err);\n                            });\n                    }\n                }\n            );\n    }\n    setCardData() {\n        if (this.checkoutData.form.payment_method == 'stripe') {\n            this.checkoutData.form['moneris-card-number'] = this.cardResponse.cardNumber;\n            this.cardResponse.expiryYear = this.cardResponse.expiryYear.slice(0, 2); //2030\n            this.checkoutData.form['moneris-card-expiry'] = this.cardResponse.expiryMonth + ' / ' + this.cardResponse.expiryYear;//;'04 / 30'\n            this.checkoutData.form['moneris-card-cvc'] = this.cardResponse.cvv;\n        } else if (this.checkoutData.form.payment_method == 'paypalpro') {\n            this.checkoutData.form['billing_credircard'] = this.cardResponse.cardNumber;\n            this.checkoutData.form['billing_cardtype'] = this.cardResponse.cardType;\n            this.checkoutData.form['moneris-card-expiry'] = this.cardResponse.expiryYear;\n            this.checkoutData.form['billing_expdatemonth'] = this.cardResponse.expiryMonth;\n            this.checkoutData.form['billing_ccvnumber'] = this.cardResponse.cvv;\n        }\n    }\n    setStripeForm() {\n        this.stripeForm.key = this.orderReview.payment.stripe.publishable_key;\n        this.stripeForm.payment_user_agent = 'stripe.js/6ea8d55';\n        this.stripeForm['card[number]'] = this.cardResponse.cardNumber;//'4242424242424242';//this.cardResponse.cardNumber;\n        this.stripeForm['card[exp_month]'] = this.cardResponse.expiryMonth;//'04';//this.cardResponse.expiryMonth;\n        this.stripeForm['card[exp_year]'] = this.cardResponse.expiryYear;////this.cardResponse.expiryYear;\n        this.stripeForm['card[cvc]'] = this.cardResponse.cvv;//this.cardResponse.cvc;\n        this.stripeForm['card[name]'] = this.checkoutData.form.billing_first_name + this.checkoutData.form.billing_last_name;\n        this.stripeForm['card[address_line1]'] = this.checkoutData.form.billing_address_1;\n        this.stripeForm['card[address_line2]'] = this.checkoutData.form.billing_address_2;\n        this.stripeForm['card[address_state]'] = this.checkoutData.form.billing_state;\n        this.stripeForm['card[address_city]'] = this.checkoutData.form.billing_city;\n        this.stripeForm['card[address_zip]'] = this.checkoutData.form.billing_postcode;\n        this.stripeForm['card[address_country]'] = this.checkoutData.form.billing_country;\n        return true;\n    }\n    handleStipeToken(token) {\n        if (token && token.id) {\n            var form = { type: 'card', token: '', key: '' };\n            form.type = 'card';\n            form.token = token.id;\n            form.key = this.orderReview.payment.stripe.publishable_key;\n            this.checkoutData.form['wc-stripe-payment-token'] = token.id; //For Existing Cards add api\n            this.api.getExternalData('https://api.stripe.com/v1/sources', form).subscribe(res => {\n                this.stripePlaceOrder(res);\n            }, err => {\n                if (err.error.error.message)\n                    this.errorMessage = err.error.error.message;\n                this.disableButton = false;\n            });\n        } else {\n            this.disableButton = false;\n            this.errorMessage = 'Cannot handle payment, Please check card details';\n        }\n    }\n    stripePlaceOrder(src) {\n        if (src && src.id) {\n            this.checkoutData.form['stripe_source'] = src.id;\n            this.api.ajaxCall('/checkout?wc-ajax=checkout', this.checkoutData.form).subscribe(res => {\n                this.results = res;\n                this.handleOrder();\n            }, err => {\n                this.disableButton = false;\n                console.log(err);\n            });\n        } else {\n            this.disableButton = false;\n            this.errorMessage = 'Cannot handle payment, Please check card details';\n        }\n    }\n    isEmptyObject(obj) {\n        return Object.keys(obj).length === 0;\n    }\n\n    brainTreePayment() {\n\n        /*console.log('Braintree payment.......');\n        \n        const BRAINTREE_TOKEN = 'sandbox_7b74zrbp_zm8j7dwnjqqzzgxn';\n        \n        const appleOptions: ApplePayOptions = {\n          merchantId: 'zm8j7dwnjqqzzgxn',\n          currency: 'USD',\n          country: 'US'\n        }\n\n        const paymentOptions: PaymentUIOptions = {\n          amount: '14.99',\n          primaryDescription: 'Your product or service (per /item, /month, /week, etc)',\n        }\n\n        this.braintree.initialize(BRAINTREE_TOKEN)\n          .then(() => this.braintree.setupApplePay(appleOptions))\n          .then(() => this.braintree.presentDropInPaymentUI(paymentOptions))\n          .then((result: PaymentUIResult) => {\n            if (result.userCancelled) {\n              console.log(\"User cancelled payment dialog.\");\n            } else {\n              console.log(\"User successfully completed payment!\");\n              console.log(\"Payment Nonce: \" + result.nonce);\n              console.log(\"Payment Result.\", result);\n            }\n          })\n          .catch((error: string) => console.error(error));*/\n    }\n}"],"sourceRoot":""}